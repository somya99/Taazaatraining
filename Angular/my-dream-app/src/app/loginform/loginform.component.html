<hr/>

<div class="container ">
    <div class ="row">
        <div class = "col-md-6 text-left bg-white rounded shadow py-3">
            <h1 class ="text-danger text-center" style = "background-color: rgba(72, 112, 165, 0.199);"><b>Login Form using Reactive Form</b></h1>   
        <form (ngSubmit) ='login()' [formGroup] = 'loginForm' novalidate class = "form">
            <input formControlName = 'email'
                type = "text"
                class = "form-control"
                placeholder = "Enter Email" />
            <div class = "alert alert-danger" *ngIf = "loginForm?.get('email')?.hasError('required') && loginForm?.get('email')?.touched">
                Email is required
            </div>
            <br/>
            <input formControlName = 'password'
                type = "password"
                class = "form-control"
                placeholder = "Enter Password" />
            <div class = "alert alert-danger" *ngIf = "!loginForm?.get('password')?.valid && loginForm?.get('password')?.touched">
                Password is required and should have minimum 5 characters 
            </div>
            <br/>
            <input formControlName = 'age'
                type = "number"
                class = "form-control"
                placeholder = "Enter Age" />
            <div class = "alert alert-danger" *ngIf = "loginForm?.get('age')?.dirty && loginForm?.get('age')?.errors && loginForm?.get('age')?.errors?.ageRange">
                Age should be in between {{min}} to {{max}} years
            </div>
            <br/>
            <input formControlName = 'phonenumber'
                type = "number"
                class = "form-control"
                placeholder = "Enter Phone Number" />
                <div class = "alert alert-danger" *ngIf = "loginForm?.get('phonenumber')?.hasError('required') && loginForm?.get('phonenumber')?.touched">
                    Phone number is required
                </div>
            <br/>

            <label class = 'control-label'>Send Notification</label>
            <br/>
            <label class = "radio-inline">
                <input type = "radio" value = "email" formControlName = "notification">Email
            </label>
            <label class = "radio-inline">
                <input type = "radio" value = "phone" formControlName = "notification">Phone
            </label>
            <br/>
            <button type = "submit" [disabled] = 'loginForm.invalid' class = "btn btn-danger">Login</button>
            <button type = "button" (click) = 'cancel()' class = "btn btn-info">Reset</button>
        </form>
    </div>
    <div class = "col-md-6 text-left bg-white rounded shadow py-3">
        <h1 class ="text-danger text-center" style = "background-color: rgba(72, 112, 165, 0.199);"><b>Login Form using Template Driven Form</b></h1>
        <form novalidate #loginform="ngForm" (ngSubmit)="onSubmit(loginform)">
            <div class="form-group">
                <label for="email">Email</label>
                <input type="text" [(ngModel)]='model.email' #email="ngModel" name='email' class="form-control" required>
            </div>
            <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
                Email is required
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" #password="ngModel" [(ngModel)]='model.password' class="form-control" name="password" required minlength="5">
            </div>
            <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
                Password is invalid
            </div>
 
            <button [disabled]='loginform.invalid' type="submit" class="btn btn-danger">Login</button>
            <button (click)='newLogin();loginform.reset()' class="btn btn-info">Reset</button>
        </form>
    </div>
</div>

</div>
<div class ="row">
    <div class ="col-md-12">
        <div class="footer">
            <p style = "color : rgb(125, 125, 136)"><b>This is a demo of Reactive Form and Template Driven Form in Angular. In Reactive Form custom validation is used for age field and conditional validation is used to select among email and phone to set required validation.  </b></p>
        </div>
    </div>
</div>
